FROM node:24-alpine

RUN apk --no-cache add curl python3 make g++

WORKDIR /usr/src/app

COPY package.json package-lock.json ./

RUN npm install

COPY ./ ./

EXPOSE 80

CMD ["npm", "run", "dev"]

HEALTHCHECK CMD curl -f http://localhost:80/api/health-check || exit 1
